<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Akhil Kommuru</title>
  <style>
    html, body {
      margin: 0; padding: 0; height: 100%;
      overflow: hidden;
    }
    body {
      background: linear-gradient(135deg, purple 0%, blue 100%);
      display: flex;
      justify-content: center;
      align-items: flex-start;
      font-family: sans-serif;
      user-select: none;
    }
    #game {
      position: relative;
      width: 800px;
      height: 400px;
      overflow: hidden;
    }

    h1, h3 {
      position: absolute;
      width: 100%;
      text-align: center;
      color: white;
      z-index: 10;
      text-shadow: 0 2px 4px rgba(0,0,0,0.4);
    }

    h1 { top: 20px; font-size: 32px; }
    h3 { top: 60px; font-weight: 300; }

    footer {
      position: absolute;
      bottom: 10px;
      width: 100%;
      text-align: center;
      color: white;
      font-size: 14px;
      opacity: 0.6;
      z-index: 20;
    }

    footer a {
      color: white;
      text-decoration: underline;
      opacity: 0.8;
    }

    .cloud {
      position: absolute;
      filter: blur(1.5px);
      opacity: 0.1;
      color: white;
    }

    .cloud svg {
      width: 150px; height: 100px;
      fill: currentColor;
    }

    #dino {
      position: absolute;
      bottom: 60px;
      left: 50px;
      width: 60px;
      height: 60px;
      transition: bottom 0.25s ease;
      z-index: 10;
    }

    #obstacle {
      position: absolute;
      bottom: 60px;
      width: 40px;
      height: 50px;
      z-index: 10;
    }

    #ground {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 50px;
      z-index: 5;
    }

    #grass { background-color: green; height: 10px; width: 100%; }
    #dirt { background-color: #5c4033; height: 40px; width: 100%; }

    #gameOver {
      position: absolute;
      top: 40%;
      width: 100%;
      text-align: center;
      font-size: 48px;
      color: white;
      font-weight: bold;
      text-shadow: 0 0 5px black;
      display: none;
      z-index: 50;
    }

    #restartBtn {
      margin-top: 20px;
      padding: 12px 24px;
      background: #ff8c00;
      border: none;
      border-radius: 16px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      font-size: 16px;
      box-shadow:
        0 2px 6px rgba(255, 140, 0, 0.2),
        0 -1px 2px rgba(255, 140, 0, 0.1),
        1px 0 2px rgba(255, 140, 0, 0.1),
       -1px 0 2px rgba(255, 140, 0, 0.1);
      transition: all 0.3s ease;
    }

    #restartBtn:hover {
      background: #f29720;
      box-shadow:
        0 2px 5px rgba(255, 140, 0, 0.2),
        0 -2px 3px rgba(255, 140, 0, 0.12),
        1px 0 2px rgba(255, 140, 0, 0.15),
       -1px 0 2px rgba(255, 140, 0, 0.15);
      transform: scale(1.06);
    }

    @media (max-width: 850px) {
      #game { transform: scale(0.8); transform-origin: top; }
    }
    @media (max-width: 600px) {
      #game { transform: scale(0.6); transform-origin: top; }
    }
  </style>
</head>
<body>

<h1>Akhil Kommuru</h1>
<h3>Building cool things... one jump at a time</h3>

<div id="game">
  <!-- Clouds -->
  <div class="cloud" style="top: 50px; left: 0;">
    <svg viewBox="0 0 64 64"><path d="M48 24a12 12 0 0 0-24 0 9 9 0 0 0-6 15 9 9 0 0 0 18 0h12a6 6 0 0 0 0-12z"/></svg>
  </div>

  <!-- Dino -->
  <svg id="dino" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
    <path fill="green" d="M20 30c0 5 2 12 12 12s12-7 12-12c0-5-5-10-12-10s-12 5-12 10zm30-5c2 0 4 2 4 4s-2 4-4 4h-2c0-3-1-5-3-7 2-1 3-1 5-1z"/>
  </svg>

  <!-- Obstacle -->
  <svg id="obstacle" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
    <path fill="red" d="M32 2c4 10 12 14 12 22 0 10-8 18-12 26-4-8-12-16-12-26 0-8 8-12 12-22z"/>
  </svg>

  <!-- Ground -->
  <div id="ground">
    <div id="grass"></div>
    <div id="dirt"></div>
  </div>

  <!-- Game Over -->
  <div id="gameOver">
    Game Over<br />
    <button id="restartBtn">Restart</button>
  </div>
</div>

<footer>
  I made this. It's real. it's valid.<br>
  <a href="mailto:projects@akhilkommuru.com">projects@akhilkommuru.com</a>
</footer>

<script>
  const dino = document.getElementById('dino');
  const obstacle = document.getElementById('obstacle');
  const gameOverScreen = document.getElementById('gameOver');
  const restartBtn = document.getElementById('restartBtn');
  const game = document.getElementById('game');
  const gameWidth = game.clientWidth;

  let isJumping = false;
  let dinoBottom = 60;
  let obstacleX = gameWidth;
  let gameOver = false;

  const clouds = [...document.querySelectorAll('.cloud')];
  const cloudSpeeds = [0.2, 0.1, 0.15];

  function jump() {
    if (isJumping || gameOver) return;
    isJumping = true;
    let jumpHeight = 100;
    let upDuration = 250;
    let downDuration = 250;

    let start = null;
    function animateUp(timestamp) {
      if (!start) start = timestamp;
      const elapsed = timestamp - start;
      let progress = Math.min(elapsed / upDuration, 1);
      dino.style.bottom = `${dinoBottom + jumpHeight * progress}px`;
      if (progress < 1) {
        requestAnimationFrame(animateUp);
      } else {
        start = null;
        requestAnimationFrame(animateDown);
      }
    }
    function animateDown(timestamp) {
      if (!start) start = timestamp;
      const elapsed = timestamp - start;
      let progress = Math.min(elapsed / downDuration, 1);
      dino.style.bottom = `${dinoBottom + jumpHeight * (1 - progress)}px`;
      if (progress < 1) {
        requestAnimationFrame(animateDown);
      } else {
        isJumping = false;
      }
    }
    requestAnimationFrame(animateUp);
  }

  function moveObstacle() {
    obstacleX -= 5;
    if (obstacleX < -50) {
      obstacleX = gameWidth;
    }
    obstacle.style.left = `${obstacleX}px`;
  }

  function moveClouds() {
    clouds.forEach((cloud, i) => {
      let left = parseFloat(cloud.style.left);
      left -= cloudSpeeds[i];
      if (left < -200) left = gameWidth;
      cloud.style.left = left + 'px';
    });
  }

  function checkCollision() {
    if (
      obstacleX < 100 && obstacleX > 50 &&
      parseFloat(dino.style.bottom) <= dinoBottom + 5
    ) {
      gameOver = true;
      gameOverScreen.style.display = 'block';
    }
  }

  function restartGame() {
    obstacleX = gameWidth;
    gameOver = false;
    gameOverScreen.style.display = 'none';
    dino.style.bottom = `${dinoBottom}px`;
    isJumping = false;
  }

  game.addEventListener('click', (e) => {
    if (e.target.id !== 'restartBtn') jump();
  });

  game.addEventListener('touchstart', (e) => {
    if (e.target.id !== 'restartBtn') jump();
  });

  document.addEventListener('keydown', (e) => {
    if (e.code === 'Space') {
      e.preventDefault();
      jump();
    }
  });

  restartBtn.addEventListener('click', restartGame);

  dino.style.bottom = `${dinoBottom}px`;
  obstacle.style.left = `${obstacleX}px`;

  requestAnimationFrame(function gameLoop() {
    if (!gameOver) {
      moveObstacle();
      moveClouds();
      checkCollision();
    }
    requestAnimationFrame(gameLoop);
  });
</script>

</body>
</html>
